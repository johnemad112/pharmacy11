<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØµÙŠØ¯Ù„ÙŠØ© Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</title>
    <style>
        body { font-family: 'Tahoma', sans-serif; margin: 0; padding: 0; background-color: #f9f9f9; }
        header { background-color: #1abc9c; color: white; padding: 15px; text-align: center; }
        nav a { color: white; margin: 0 10px; text-decoration: none; }
        section { padding: 20px; background-color: white; margin: 15px auto; width: 80%; border-radius: 8px; box-shadow: 0px 0px 10px #ccc; }
        h2 { color: #1abc9c; }
        footer { background-color: #1abc9c; color: white; text-align: center; padding: 10px; }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; }
        .product { background-color: white; border-radius: 8px; box-shadow: 0 0 10px #ccc; padding: 15px; text-align: center; }
        .product img { width: 100%; height: 200px; object-fit: cover; border-radius: 5px; }
        .buy-btn { background-color: #1abc9c; color: white; padding: 10px; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px; }
        .buy-btn:hover { background-color: #16a085; }
        #search-box { width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 5px; }
        #cart ul { list-style: none; padding: 0; }
        #cart li { padding: 8px; border-bottom: 1px solid #eee; }
        #orderForm input, #orderForm textarea { width: 100%; padding: 8px; margin: 8px 0; border: 1px solid #ccc; border-radius: 5px; }
        #orderForm button { background-color: #1abc9c; color: white; padding: 10px; border: none; border-radius: 5px; cursor: pointer; }
        #orderForm button:hover { background-color: #16a085; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
    <script>
        (function() {
            emailjs.init("8SqqGgc0d5DFfyqn4");
        })();
    </script>
</head>
<body>
    <header>
        <h1>ğŸ’Š ØµÙŠØ¯Ù„ÙŠØ© Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</h1>
        <nav>
            <a href="#products">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
            <a href="#cart">Ø§Ù„Ø³Ù„Ø©</a>
            <a href="#order">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</a>
        </nav>
    </header>

    <section id="products">
        <h2>ğŸ› Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h2>
        <input type="text" id="search-box" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬..." onkeyup="searchProducts()">
        <div class="product-grid" id="product-list"></div>
    </section>

    <section id="cart">
        <h2>ğŸ›’ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª (<span id="cart-count">0</span>)</h2>
        <ul id="cart-items"></ul>
        <p>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: <span id="cart-total">0</span> Ø±ÙŠØ§Ù„</p>
    </section>

    <section id="order">
        <h2>ğŸ“¦ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</h2>
        <form id="orderForm">
            <input type="text" id="buyer_name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
            <input type="tel" id="buyer_phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
            <input type="email" id="buyer_email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
            <textarea id="buyer_address" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØ§Ù…Ù„" required></textarea>
            <button type="submit">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
        </form>
    </section>

    <footer>
        <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2025</p>
    </footer>

    <script>
        const products = [
            { name: "Ø¨Ù†Ø§Ø¯ÙˆÙ„", price: 20, description: "Ù…Ø³ÙƒÙ† Ø¢Ù„Ø§Ù… ÙˆØ®Ø§ÙØ¶ Ø­Ø±Ø§Ø±Ø©", img: "https://i.imgur.com/4Hk8Ygk.jpg" },
            { name: "ÙÙŠØªØ§Ù…ÙŠÙ† C", price: 15, description: "Ù…ÙƒÙ…Ù„ ØºØ°Ø§Ø¦ÙŠ ÙŠÙ‚ÙˆÙŠ Ø§Ù„Ù…Ù†Ø§Ø¹Ø©", img: "https://i.imgur.com/TYN7iMZ.jpg" },
            { name: "Ø¬Ù‡Ø§Ø² Ù‚ÙŠØ§Ø³ Ø¶ØºØ·", price: 120, description: "Ù„Ù‚ÙŠØ§Ø³ Ø¶ØºØ· Ø§Ù„Ø¯Ù… Ø¨Ø¯Ù‚Ø©", img: "https://i.imgur.com/3J32B6O.jpg" },
            { name: "Ù…ÙŠØ²Ø§Ù† Ø­Ø±Ø§Ø±Ø©", price: 25, description: "Ù„Ù‚ÙŠØ§Ø³ Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©", img: "https://i.imgur.com/3dGJKnR.jpg" }
        ];

        let cart = [];

        function displayProducts() {
            const productList = document.getElementById("product-list");
            productList.innerHTML = "";
            products.forEach((product, index) => {
                productList.innerHTML += `
                    <div class="product">
                        <img src="${product.img}" alt="${product.name}">
                        <h3>${product.name}</h3>
                        <p>${product.description}</p>
                        <p>Ø§Ù„Ø³Ø¹Ø±: ${product.price} Ø±ÙŠØ§Ù„</p>
                        <input type="number" min="1" value="1" id="qty-${index}">
                        <button class="buy-btn" onclick="addToCart(${index})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
                    </div>
                `;
            });
        }

        function searchProducts() {
            const searchText = document.getElementById("search-box").value.toLowerCase();
            const filtered = products.filter(p => p.name.toLowerCase().includes(searchText));
            const productList = document.getElementById("product-list");
            productList.innerHTML = "";
            filtered.forEach((product, index) => {
                productList.innerHTML += `
                    <div class="product">
                        <img src="${product.img}" alt="${product.name}">
                        <h3>${product.name}</h3>
                        <p>${product.description}</p>
                        <p>Ø§Ù„Ø³Ø¹Ø±: ${product.price} Ø±ÙŠØ§Ù„</p>
                        <input type="number" min="1" value="1" id="qty-${index}">
                        <button class="buy-btn" onclick="addToCart(${products.indexOf(product)})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
                    </div>
                `;
            });
        }

        function addToCart(index) {
            const qty = parseInt(document.getElementById(`qty-${index}`).value);
            for (let i = 0; i < qty; i++) {
                cart.push(products[index]);
            }
            updateCart();
        }

        function updateCart() {
            const cartItems = document.getElementById("cart-items");
            const cartCount = document.getElementById("cart-count");
            const cartTotal = document.getElementById("cart-total");
            cartItems.innerHTML = "";
            let total = 0;
            cart.forEach(item => {
                total += item.price;
                cartItems.innerHTML += `<li>${item.name} - ${item.price} Ø±ÙŠØ§Ù„</li>`;
            });
            cartCount.textContent = cart.length;
            cartTotal.textContent = total;
        }

        document.getElementById("orderForm").addEventListener("submit", function(event) {
            event.preventDefault();
            const buyer_name = document.getElementById("buyer_name").value;
            const buyer_phone = document.getElementById("buyer_phone").value;
            const buyer_email = document.getElementById("buyer_email").value;
            const buyer_address = document.getElementById("buyer_address").value;
            const order_list = cart.map(item => `${item.name} - ${item.price} Ø±ÙŠØ§Ù„`).join("\n");
            const order_total = document.getElementById("cart-total").textContent;

            const templateParams = {
                buyer_name,
                buyer_phone,
                buyer_email,
                buyer_address,
                order_list,
                order_total
            };

            emailjs.send("service_hdeh0fm", "template_3l1brbl", templateParams)
                .then(function() {
                    alert("âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­!");
                    cart = [];
                    updateCart();
                    document.getElementById("orderForm").reset();
                }, function(error) {
                    alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨!");
                    console.error(error);
                });
        });

        displayProducts();
    </script>
</body>
</html>
